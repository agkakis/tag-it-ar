<!doctype html>
<html lang="el">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tag-it-AR (MVP)</title>

  <link rel="stylesheet" href="style.css" />

  <!-- A-Frame + MindAR (A-Frame build) -->
  <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
</head>

<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo" aria-hidden="true">
        <span class="logo-letter">T</span>
        <span class="logo-spark" aria-hidden="true"></span>
      </div>

      <div class="brand-text">
        <h1>Tag-it-AR</h1>
        <p>Σκανάρισε μία κάρτα και δες τι κάνει!</p>
      </div>

      <div class="header-actions">
        <button id="themeBtn" class="btn btn-ghost btn-sm" type="button" aria-label="Εναλλαγή θέματος">
          Θέμα
        </button>
      </div>
    </div>
  </header>

  <main class="layout">
    <section class="panel panel-scan">
      <div class="panel-title">
        <div class="panel-title-left">
          <h2>Κάμερα / Σάρωση</h2>
          <span class="pill pill-blue">Level 1</span>
        </div>
        <span class="pill pill-neutral" id="scanPill">Ready</span>
      </div>

      <div class="helper">
        <span class="helper-dot" aria-hidden="true"></span>
        <span>Στόχευσε την κάρτα μέσα στον κύκλο. Κράτα την σταθερή για 1–2s.</span>
      </div>

      <div class="ar-container" id="arWrap">
        <a-scene
          id="scene"
          embedded
          mindar-image="imageTargetSrc: ./targets.mind; autoStart: false;"
          vr-mode-ui="enabled: false"
          device-orientation-permission-ui="enabled: false"
          renderer="colorManagement: true, physicallyCorrectLights"
        >
          <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

          <!-- Targets 0..9 -->
          <a-entity id="t0" mindar-image-target="targetIndex: 0"></a-entity>
          <a-entity id="t1" mindar-image-target="targetIndex: 1"></a-entity>
          <a-entity id="t2" mindar-image-target="targetIndex: 2"></a-entity>
          <a-entity id="t3" mindar-image-target="targetIndex: 3"></a-entity>
          <a-entity id="t4" mindar-image-target="targetIndex: 4"></a-entity>
          <a-entity id="t5" mindar-image-target="targetIndex: 5"></a-entity>
          <a-entity id="t6" mindar-image-target="targetIndex: 6"></a-entity>
          <a-entity id="t7" mindar-image-target="targetIndex: 7"></a-entity>
          <a-entity id="t8" mindar-image-target="targetIndex: 8"></a-entity>
          <a-entity id="t9" mindar-image-target="targetIndex: 9"></a-entity>
        </a-scene>

        <div class="camera-overlay" aria-hidden="true"></div>

        <div class="reticle" aria-hidden="true">
          <div class="reticle-ring"></div>
          <div class="reticle-crosshair">
            <span></span><span></span>
          </div>
          <div class="reticle-dot"></div>
        </div>

        <div class="camera-hint" aria-hidden="true">
          Κράτησε την κάρτα στο κέντρο
        </div>
      </div>

      <div class="status-grid">
        <div class="status-card">
          <div class="status-label">Κατάσταση</div>
          <div class="status-value">
            <span class="chip chip-blue" id="statusText">Φόρτωση…</span>
          </div>
        </div>

        <div class="status-card">
          <div class="status-label">Εντοπίστηκε</div>
          <div class="status-value">
            <span class="chip chip-green" id="detectedTag">—</span>
          </div>
        </div>
      </div>

      <div class="buttons">
        <button id="startBtn" class="btn btn-primary" disabled>Έναρξη Σάρωσης</button>
        <button id="stopBtn" class="btn btn-secondary" disabled>Διακοπή</button>
      </div>

      <div class="mini-note">
        Συμβουλή: Χρησιμοποίησε <strong>http://localhost</strong> ή <strong>https</strong> για άδεια κάμερας.
      </div>
    </section>

    <section class="panel panel-result">
      <div class="panel-title">
        <div class="panel-title-left">
          <h2>Αποτέλεσμα</h2>
          <span class="pill pill-green">HTML</span>
        </div>
        <span class="pill pill-neutral">Preview</span>
      </div>

      <div class="result-block result-main">
        <p class="label">Κείμενο (απόδοση):</p>
        <div id="rendered" class="rendered">Hello World!</div>
      </div>

      <div class="result-block result-code">
        <div class="label-row">
          <p class="label">Κώδικας HTML:</p>
          <button id="copyBtn" class="btn btn-ghost btn-sm" type="button">Αντιγραφή</button>
        </div>
        <pre class="code"><code id="codeBox">&lt;p&gt;Hello World!&lt;/p&gt;</code></pre>
      </div>

      <div class="tip">
        Όταν φύγει η κάρτα, μετά από <strong>2 δευτερόλεπτα</strong> το κείμενο επιστρέφει στο αρχικό.
      </div>
    </section>
  </main>

  <div id="toast" class="toast" role="status" aria-live="polite" aria-atomic="true"></div>

  <script src="app.js"></script>
</body>
</html>
